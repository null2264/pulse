# Optimise builds
# ac_add_options --enable-application=browser
# ac_add_options --enable-hardening
# ac_add_options --enable-rust-simd
# ac_add_options --enable-release
# ac_add_options --enable-optimize
# ac_add_options --with-ccache=sccache
# ac_add_options --disable-debug
# ac_add_options --enable-updater
# mk_add_options MOZ_MAKE_FLAGS="-j4"

# ac_add_options --with-wasi-sysroot=/Users/school/Downloads/wasi-sdk-14.0/share/wasi-sysroot
ac_add_options --without-wasm-sandboxed-libraries
ac_add_options --disable-alsa

## >> Cross compile configuration
# Packaging related
#export DSYMUTIL="$MOZBUILD/clang/bin/dsymutil"
export DMG_TOOL="$MOZBUILD/dmg/dmg"
export HFS_TOOL="$MOZBUILD/dmg/hfsplus"

# Build related
CROSS=$MOZBUILD
CCTOOLS=$CROSS/cctools
mk_add_options "export PATH=$MOZBUILD/clang/bin:$CCTOOLS/bin:$CROSS/binutils/bin:$CROSS/dmg:$PATH"
mk_add_options "export LD_LIBRARY_PATH=$MOZBUILD/clang/lib:$CCTOOLS/lib"
export CC="$CROSS/clang/bin/clang"
export CXX="$CROSS/clang/bin/clang++"
export HOST_CC="$CROSS/clang/bin/clang"
export HOST_CXX="$CROSS/clang/bin/clang++"

# Only temporary
ac_add_options --with-macos-sdk="$MOZBUILD/MacOSX14.4.sdk"
## <<
